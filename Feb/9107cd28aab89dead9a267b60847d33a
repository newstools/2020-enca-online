Thai soldier Jakrapanth Thomma standing in front of a building on fire during an attack in the northeastern city of Nakhon Ratchasima. BANGKOK - The Thai soldier who killed at least 20 people and holed up in a mall overnight was shot dead on Sunday morning by commandos, ending a near-17-hour ordeal which left dozens wounded and stunned the country. It was unclear how many people remained trapped inside the Terminal 21 mall in Nakhon Ratchasima -- also known as Korat -- where the gunman held out through the night, armed with assault weapons stolen from his barracks. Volleys of gunfire rang out as the siege ran into dawn, hours after Thai security services stormed the ground floor and freed scores of stunned, terrified shoppers from a bloody rampage that the gunman -- a junior army officer identified as Sergeant-Major Jakrapanth Thomma -- had relayed via Facebook posts. "He was shot dead," chief of the Crime Suppression Division Jirabhob Bhuridej told AFP. Commandos from elite Thai police units killed the gunman, a police spokesman added, after an operation involving hundreds of security personnel. READ:Â Gunman kills at least 20 in Thai mass shooting "The official death toll is 20 and wounded 42... nine are in surgery," Narinrat Pitchayakamin, a Korat doctor told reporters, revising down an initial death toll of 21. But it was unclear if there were more victims inside the multi-level complex which was packed with Saturday shoppers when the gunman stormed in. A fleet of ambulances left the front of the complex and forensic police poured into the grim crime scene, shortly before the gunman's death was confirmed. The night was peppered with heavy exchanges of gunfire and sporadic evacuations. A police officer who took part in a raid to flush out the gunman died, according to deputy prime minister Anutin Charnvirakul. "He had been hit and unfortunately, he couldn't make it," said Anutin.