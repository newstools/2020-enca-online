French police officers stand guard where an attacker was shot dead by policemen after he decapitated a man earlier. AFP/Abdulmonam Eassa PARIS - A French teacher who had recently shown students cartoons of the Prophet Mohammed was beheaded outside his school on Friday in what President Emmanuel Macron called an "Islamist terrorist attack". The assailant, whose identity has not been established, was shot by police as they tried to arrest him and later died of his injuries, police said. The attacker shouted "Allahu Akbar" ("God is greatest") as police confronted him, a cry often heard in jihadist attacks, a police source said. French anti-terror prosecutors said they were treating the assault as "a murder linked to a terrorist organisation". The attack happened on the outskirts of Paris at around 5pm near the middle school where the teacher worked in Conflans Saint-Honorine, a northwestern suburb around 30 kilometres from the city centre. The killing bore the hallmarks of "an Islamist terrorist attack", Macron said as he visited the scene. Visibly moved, the president said that "the entire nation" stood ready to defend teachers and that "obscurantism will not win". Four people, including a minor, have been arrested, a judicial source told AFP early Saturday. All were related to the assailant, the source added. The victim was a history teacher who recently showed cartoons of the Prophet Mohammed as part of a class discussion on freedom of expression, police said. A parent of a pupil at the school said the teacher might have stirred "controversy" by asking Muslim pupils to leave the room before showing the cartoons. The teacher "simply said to the Muslim children: 'Leave, I don't want it to hurt your feelings.' That's what my son told me," the parent said.